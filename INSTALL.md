# Инструкция по установке и сборке

## Системные требования

- Windows 10/11 или Linux
- Python 3.7 или выше
- pip (Python package manager)
- Flutter SDK (будет установлен автоматически скриптом сборки)
- Android SDK (будет установлен автоматически через Flutter)
- WiX Toolset (будет установлен автоматически скриптом сборки)
- Минимум 10 ГБ свободного места на диске
- Стабильное интернет-соединение
- Права администратора (для установки WiX Toolset)

## Установка зависимостей

1. Установите Python с официального сайта:
   https://www.python.org/downloads/

2. Убедитесь, что Python и pip установлены корректно:
```cmd
python --version
pip --version
```

3. Установите необходимые пакеты:
```cmd
pip install -r requirements.txt
```

## Сборка для Android

### Windows

1. Перейдите в директорию проекта
2. Запустите сборку:
```cmd
.\build.bat
```

### Linux

1. Перейдите в директорию проекта
2. Выполните команду:
```bash
flet build apk
```

3. APK файл будет создан в директории `build/` и автоматически перемещен в `bin/`

## Установка на устройство

### Android

1. Включите режим разработчика на устройстве:
   - Откройте Настройки
   - Перейдите в "О телефоне"
   - Нажмите 7 раз на "Номер сборки"
   - Вернитесь в основные настройки
   - Включите "Отладка по USB" в настройках разработчика

2. Установите APK:
   - Подключите устройство к компьютеру через USB
   - Разрешите передачу файлов на устройстве
   - Скопируйте APK из папки bin/ на устройство
   - Откройте APK на устройстве и установите

### Windows Subsystem for Android (WSA)

1. Убедитесь что WSA установлен и включен режим разработчика:
   - Откройте настройки WSA
   - Включите "Режим разработчика"
   - Запомните IP адрес и порт для подключения

2. Установите APK через ADB:
```cmd
adb connect <ip:port>
adb install bin\aichat-1.0-arm64-v8a-debug.apk
```

## Примечания

- Первая сборка может занять 15-30 минут, так как:
  - Устанавливается WiX Toolset (если не установлен)
  - Скачивается и устанавливается Flutter SDK (~1.1 GB)
  - Устанавливается Android SDK через Flutter
  - Загружаются все необходимые зависимости
- При первом запуске build.bat:
  1. Проверяется и устанавливается WiX Toolset (если не установлен)
  2. Проверяется наличие Flutter
  3. Если Flutter не найден, скачивается и устанавливается автоматически
  4. Запускается flutter doctor для проверки окружения
  5. Выполняется сборка APK
- Логи сборки можно найти в папке `build/logs/`
- При возникновении проблем:
  1. Убедитесь что запускаете build.bat от имени администратора
  2. Убедитесь что есть доступ в интернет
  3. Проверьте наличие свободного места (минимум 10 ГБ)
  4. Попробуйте запустить build.bat повторно
  5. Проверьте логи в папке `build/logs/`
